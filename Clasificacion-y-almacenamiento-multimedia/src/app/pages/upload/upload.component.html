<div class="upload-container">
  <h2>Subir archivo multimedia</h2>

  <!-- Input para seleccionar un archivo del sistema -->
  <label>Seleccionar archivo:</label>
  <input type="file" (change)="onFileChange($event)" />

  <!-- Selector de categoría, usa binding bidireccional con ngModel -->
  <label>Categoría:</label>
  <select [(ngModel)]="id_categoria">
    <option value="" disabled selected>Selecciona una categoría</option>
    <!-- Itera sobre la lista de categorías disponibles -->
    <option *ngFor="let cat of categorias" [value]="cat.id_categoria">
      {{ cat.nombre }}
    </option>
  </select>

  <!-- Selector de nivel de acceso para el archivo -->
  <label>Nivel de acceso:</label>
  <select [(ngModel)]="nivel_acceso">
    <option value="público">Público</option>
    <option value="restringido">Restringido</option>
    <option value="privado">Privado</option>
  </select>

  <!-- Botón para iniciar la subida del archivo, se desactiva si está en proceso -->
  <button (click)="upload()" [disabled]="uploading">
    {{ uploading ? 'Subiendo...' : 'Subir archivo' }}
  </button>

  <!-- Muestra una vista previa del archivo subido si existe URL -->
  <div *ngIf="uploadedUrl" class="preview">
    <h3>Vista previa:</h3>
    <img [src]="uploadedUrl" style="max-width: 100%; border-radius: 12px;" />
  </div>
</div>
